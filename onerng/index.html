<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
        <title>OneRNG - Hardware Random Number Generator</title>
        <link rel="stylesheet" href="/onerng.css" type="text/css" />
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
</head>

<body>
<div class="page">
<div class="header">
        <h1><span class="onerng"><a href="/index.html">OneRNG</a></span></h1>
        <h2><a href="/index.html">Open Hardware Random Number Generator</a></h2>
        <p><span class='onerngbg'>OneRNG</span> is a reliable and Open <em>verifiable</em> USB-connected hardware entropy source &amp;&nbsp;random number generator.</p>
        <script type="text/javascript" src="/diceimg.js"></script>
</div>
<div id="content">


<h3>Verifying and using your <span class='onerngbg'>OneRNG</span></h3>

<p>

We are working to populate these pages as quickly as possible, so please bear with us!</p>

<h3>Verify the Hardware</h3>
<table>
<tbody>

<tr>
<td colspan="3">First, you need to identify which variation of the <span class='onerngbg'>OneRNG</span> hardware you have.</td>
</tr>
<tr>
<td>V1.0</td>
<td>V2.0</td>
<td>V2.0 Internal</td>
<td>Programmer</td>
</tr>
<tr>
<td><img src="../pic/V1-topview-shielded.png" width="300"/></td>
<td><img src="../pic/V2-topview-shielded.png" width="300"/></td>
<td><img src="../pic/V2int-topview-shielded.png" width="300"/></td>
<td>(OneRNG Programmer)</td>
</tr>
<tr>
<td>Built in NZ<br/>(Kickstarter $110 reward)</td>
<td>Built in China<br/>(Kickstarter $50 reward)</td>
<td>Built in China<br/>(Kickstarter stretch goal)<br/>(Pictured without connector blocks)</td>
<td>Built in NZ<br/>(Kickstarter $90 reward)</td>
</tr>

<tr>
<td colspan="3">Visually inspect the unit (removing the 'tin-foil hat'/shield) and compare to these images:</td>
</tr>
<tr>
<td><ul>
<li><img src="../pic/V1-topview-noshield.png" width="300"/></li>
<li><img src="../pic/V1-botview.png" width="300"/></li>
</ul></td>
<td><ul>
<li><img src="../pic/V2-topview-noshield.png" width="300"/></li>
<li><img src="../pic/V2-botview-sticker.png" width="300"/><br/>Note that there should be a sticker over the programming port (we don't guarantee the color, size of shape of the sticker!)</li>
<li><img src="../pic/V2-botview.png" width="300"/></li>
</ul></td>
<td><ul>
<li>V2int-topview-noshield</li>
<li>V2int-botview</li>
</ul></td>
<td><ul>
<li>PRG-topview</li>
<li>PRG-botview</li>
</ul></td>
</tr>

<tr>
<td colspan="3">Check the labelling on the single complex component, the CC2531 chip:</td>
</tr>
<tr>
<td><ul>
<li><img src="../pic/V1-CPU.png" width="300"/><br/>CC2531<br/>F256<br/>TI 093<br/>PLN1 <u>G4</u></li>
</ul></td>
<td><ul>
<li><img src="../pic/V2-CPU.png" width="300"/><br/>CC2531<br/>F256<br/>TI 3BJ<br/>P2N5 <u>G4</u></li>
</ul></td>
<td><ul>
<li><img src="../pic/V2-CPU.png" width="300"/><br/>CC2531<br/>F256<br/>TI 3BJ<br/>P2N5 <u>G4</u></li>
</ul></td>
<td><ul>
(The Programmer uses an AT90USB162 chip)<br/>
<li>PRG-CPU</li>
</ul></td>
</tr>

<tr>
<td colspan="3">Compare the unit to the published circuit diagrams:</td>
</tr>
<tr>
<td><ul>
<li><img src="../pic/V1-layout-top.png" width="300"/></li>
<li><img src="../pic/V1-layout-bot.png" width="300"/></li>
</ul></td>
<td><ul>
<li>V2-layout-top</li>
<li>V2-layout-bot</li>
</ul></td>
<td><ul>
<li>V2int-layout-top</li>
<li>V2int-layout-bot</li>
</ul></td>
<td><ul>
<li>PRG-layout-top</li>
<li>PRG-layout-bot</li>
</ul></td>
</tr>
</tbody>
</table>

<h3>Test the Hardware</h3>
<p>

Plug the <span class='onerngbg'>OneRNG</span> into a USB socket, and confirm that it powers up.
The LED light should come on and stay brightly lit,
indicating that the entropy pool is populated and available.
</p>

<p>
It is possible that your computer will attempt to probe the <span class='onerngbg'>OneRNG</span>,
mistaking it for a modem device (for example, if you have an old version
                                 of the Linux modem-manager package).
If this happens you might see the LED flicker momentarily.
</p>

<p>
Remove the <span class='onerngbg'>OneRNG</span> from your system before proceeding to the Software steps.
</p>

<p>
We appreciate that these steps might be inconvenient for the V2.0 Internal hardware
version, but strict verification is very important for all users of <span class='onerngbg'>OneRNG</span>.
</p>


<h3>Install the Host Software</h3>
<p>

Both the V1.0 and V2.0 units being shipped currently come with the V3.0 signed firmware.
These are intended to be used with the V3.1 Host Software.
(Beta-test users have the V1.0 hardware, but unsigned V0.0, V1.0 or V2.0 firmware, and
therefore have to be careful with their Host Software verification settings)
</p>

<p>
We provide an architecture-independent set of scripts to connect your <span class='onerngbg'>OneRNG</span>
to the <code>rngd</code> daemon present on most Linux distributions.
</p>

<p>
The pre-requisites for these scripts are small :
<code>at</code>, <code>rng-tools</code> and <code>python-gnupg</code>
</p>

<p>
These scripts check the firmware every time they start communicating with <span class='onerngbg'>OneRNG</span>,
and will refuse to use the unit if the signature checks fail.</p>

<h4>Debian package</h4>
<ul>
<li>Install prerequisites: <code>sudo apt-get install rng-tools at python-gnupg</code></li>
<li><a href="/sw/onerng_3-1_all.deb">Download the Debian package</a> (8.1KB)</li>
<li>Verify the package checksum<br/>
<code>SHA256: 5a654ae1f14ad9c80ee0a2ff6b2caed4d22af027a5a45d8b1436a1d2c9e9da51</code><br/>
<code>MD5: 048c5ae7d26d0a7bedc7282d481e0938</code></li>
<li>Install: <code>sudo dpkg -i onerng_3-1_all.deb</code></li>
<li>Uninstall: <code>sudo dpkg -r onerng</code></li>
</ul>

<h4>RedHat package</h4>
<ul>
<li>Install prerequisites: <code>sudo yum install rng-tools at python-gnupg</code></li>
<li><a href="/sw/onerng_3-1.fc20.noarch.rpm">Download the RedHat package</a> (8.6KB)</li>
<li>Verify the package checksum<br/>
<code>SHA256: 47f72fdd6f030d7e9016d04fcca2d791b6bea80c584b62056d47cff223ba2a06</code><br/>
<code>MD5: d71f551416f4dafb69bfeb7ce5fd9821</code></li>
<li>Install: <code>sudo rpm -i onerng-3-1.noarch.rpm</code></li>
<li>Uninstall: <code>sudo rpm -e onerng</code></li>
</ul>

<h4>Tarball</h4>
<ul>
<li>Install prerequisites</li>
<li><a href="/sw/onerng_3.orig.tar.gz">Download the tarball</a> (100KB)</li>
<li>Verify the tarball checksum<br/>
<code>SHA256: f649cf5063c77e0af04dbd7474975eafb72af1ff147fb3c732bf019fe466b28a</code><br/>
<code>MD5: 03ba63bc2dd9ab8b822ff96e7178b734</code></li>
<li>Install: <pre>
tar xzf onerng_3.orig.tar.gz
cd onerng_1
sudo make install
sudo udevadmin control --reload-rules
</pre>
<li>Uninstall: <code>sudo rm /usr/lib/udev/rules.d/79-onerng.rules /sbin/onerng.sh</code></li>
</ul>

<h3>Test <span class='onerngbg'>OneRNG</span> Operation</h3>
<p>

Once the Host Software has been installed, insert your <span class='onerngbg'>OneRNG</span>. Test the correct operation of the hardware
and software combined by demanding large quantities of data from <code>/dev/random</code>.
</p>

<p>
<code>cat /dev/random >/dev/null</code>
</p>

<p>
If <span class='onerngbg'>OneRNG</span> is working correctly, you should see the LED light dim as the onboard entropy pool is rapidly depleted.
</p>

<p>
When you interrupt the <code>cat</code> command (by pressing control-C) the LED should return to normal brightness.
</p>


<h3>Support for <span class='onerngbg'>OneRNG</span></h3>
<p>

Please join the <a href="http://lists.onerng.info/groups/onerng-talk/"><span class='onerngbg'>OneRNG</span> Discussion Group</a> for support queries,
or contact members of <a href="/team.html">the <span class='onerngbg'>OneRNG</span> team</a> directly.
</p>


<div class="footer">
                <h3><hr/></h3>
                <div class="CC">
                    <p><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="/img/CCBYSA-88x31.png" /></a><br/></p>
                    <p><span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">The OneRNG.info website</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://onerng.info/" property="cc:attributionName" rel="cc:attributionURL">Jim Cheetham</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</p>
                    <p>Website copyright &copy; 2014,2015 Jim Cheetham, jim@inode.co.nz<br/><a href="https://github.com/OneRNG/onerng.github.io">Website source</a> on <a href="https://github.com/">GitHub</a></p>
                </div>
        </div>
        </body>
<!-- rendered onerng/index.tt2, last modified at 2015-03-26 22:34:34 NZDT -->
</html>

